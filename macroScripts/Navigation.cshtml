@inherits umbraco.MacroEngines.DynamicNodeContext

@*
	Macro to display child pages below the root page of a standard website.
	Also highlights the current active page/section in the navigation with
	the css class "current". 
*@


@{ 
	@*Get the root of the website *@
    var root = Model.AncestorOrSelf(1);
	
	@*class="@page.IsAncestorOrSelf(Model, "current", "")"" *@
}

	
	<ul class="nav nav-list">
	 <li class="nav-header">What we are?</li>
	@{
            var homepageSelected = Model.Id == root.Id ? " class=\"active\"" : "";
            <li><a @Html.Raw(homepageSelected) href="@root.Url">@root.Name</a> </li>
        }

    @foreach (var page in root.Children.Where("Visible"))
    { 
        <li class="@page.IsAncestorOrSelf(Model, "active", "")" ><a href="@page.Url">@page.Name</a></li>
			}
<div class="accordion" id="accordion">
	<div class="accordion-group">
	<div class="accordion-heading">
	<a href="#collapse-1" data-toggle="collapse" data-parent="accordion" class="accordion-toggle">Our Partners</a>
		</div>
	<div class="accordion-body collapse" id="collapse-1">
	<div class="accordion-inner">
	
    <li><a href=" http://www.winnersway.org.uk/"> RGCCG Winners Way, Dartford</a></li>
	</div>
	</div>	
	<div>
</div>
		</ul>
